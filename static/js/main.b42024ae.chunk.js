(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{20:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),s=a(4),o=a.n(s),i=(a(20),a(3)),l=a(7);a(21);function j(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s),o("")):l.b.warning("Please fill in the search field!")},className:"SearchForm",children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(c.jsx)("input",{value:s,onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}var u=a(9),b=document.querySelector("#modal-root");function m(e){var t=e.onClose,a=e.srcModal,r=e.alt;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(s.createPortal)(Object(c.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(c.jsx)("div",{className:"Modal",children:Object(c.jsx)("img",{src:a,alt:r})})}),b)}function d(e){var t=e.src,a=e.alt,r=e.srcModal,s=Object(n.useState)(!1),o=Object(i.a)(s,2),l=o[0],j=o[1],u=function(){j(!l)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{className:"ImageGalleryItem",children:Object(c.jsx)("img",{onClick:u,src:t,alt:a,className:"ImageGalleryItem-image"})}),l&&Object(c.jsx)(m,{onClose:u,srcModal:r,alt:a})]})}var h=function(e){var t=e.images;return Object(c.jsx)("div",{className:"ImageGalleryContainer",children:Object(c.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(c.jsx)(d,{src:e.webformatURL,srcModal:e.largeImageURL,alt:e.tags},e.id)}))})})};var O={fetchImages:function(e,t){return fetch("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("19886282-56444a5241ae61181bc861379","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject()}))}},g=a.p+"static/media/error.71eb184f.jpg";function f(e){var t=e.message;return Object(c.jsxs)("div",{role:"alert",children:[Object(c.jsx)("img",{src:g,width:"800",alt:"bad cat",className:"ImageError"}),Object(c.jsx)("p",{children:t})]})}function p(e){var t=e.onClick;return Object(c.jsx)("div",{className:"BtnContainer",children:Object(c.jsx)("button",{onClick:t,className:"Button",type:"button",children:"Load more"})})}var x=a(10),v=a(11),y=a(14),S=a(13),w=a(12),N=a.n(w),I=(a(43),function(e){Object(y.a)(a,e);var t=Object(S.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return Object(c.jsx)(N.a,{type:"ThreeDots",color:"#00BFFF",height:400,width:200})}}]),a}(n.Component));function k(e){var t=e.imageName,a=e.images,r=e.setImages,s=e.page,o=e.setPage,l=Object(n.useState)("idle"),j=Object(i.a)(l,2),b=j[0],m=j[1],d=Object(n.useState)(null),g=Object(i.a)(d,2),x=g[0],v=g[1];Object(n.useEffect)((function(){t&&(m("pending"),O.fetchImages(t,s).then((function(e){0!==e.hits.length&&(r((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e.hits))})),m("resolved")),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){v(e),m("rejected")})))}),[t,r,s]);return"idle"===b?Object(c.jsx)("div",{className:"IdleMessage",children:"Please enter data to search field"}):"rejected"===b?Object(c.jsx)(f,{message:x.message}):0===a.total?Object(c.jsx)("div",{children:"Image was not found. Please, change your request and try again."}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(h,{images:a}),"pending"===b?Object(c.jsx)(I,{}):Object(c.jsx)(p,{onClick:function(){o((function(e){return e+1}))}})]})}a(44);function C(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),o=Object(i.a)(s,2),u=o[0],b=o[1],m=Object(n.useState)(1),d=Object(i.a)(m,2),h=d[0],O=d[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j,{onSubmit:function(e){r(e),b([]),O(1)}}),Object(c.jsx)(k,{imageName:a,images:u,page:h,setImages:b,setPage:O}),Object(c.jsx)(l.a,{autoClose:3e3})]})}o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.b42024ae.chunk.js.map